#:kivy 1.10.1

<PopupConfigFolder>:
    title: "Config folder"

    tf_client_path: paths_container.tf_client_path
    tf_server_path: paths_container.tf_server_path
    # btn_save_add: btn_save_add

    WidgetsContainer:
        PathsContainer:
            id: paths_container

        # PatternsContainer:

        # MergeMethodsContainer:

        # ButtonsContainer:

        Button:
            text: "dummy"
            on_release: root.dummy()


<WidgetsContainer@BoxLayout>:
    orientation: "vertical"


<PathsContainer@StackLayout>:

    tf_client_path: client_path.tf_path
    tf_server_path: server_path.tf_path

    Path:
        id: client_path
        text: "Local path: "
        browse: self.browse_client_path
        size_hint_x: 1

    Path:
        id: server_path
        text: "Remote path: "
        browse: self.browse_server_path
        size_hint_x: 1

<Path>:
    id: root_path
    text: ""
    browse: None
    height: 32
    size_hint: 1, None

    tf_path: tf_path

    Label:
        text: root_path.text
        size_hint: 0.2, 1

    TextInput:
        id: tf_path
        size_hint: 0.7, 1

    Button:
        text: "Browse"
        size_hint: 0.1, 1
        on_release: root.browse()


<PopupConfigFolderOLD>
    title: "Config folder"
    auto_dismiss: False

    tf_client_path: tf_client_path
    tf_server_path: tf_server_path
    btn_save_add: btn_save_add

    BoxLayout:
        orientation: "vertical"

        Label:
            text: "local path"

        TextInput:
            id: tf_client_path
            text: "D:\Programmieren\OpenDrive\local\client_side/folder1"

        Button:
            text: "browse"
            on_release: root.browse_client_path()

        Label:
            text: "server path"

        TextInput:
            id: tf_server_path
            #text: "folder1"

        Button:
            text: "browse"
            on_release: root.browse_server_path()

        Label:
            text: "include"

        TextInput:
            id: tf_includes

        Label:
            text: "exclude"

        TextInput:
            id: tf_excludes

        Button:
            id: btn_save_add
            text: "Add"
            on_release: root.btn_release_add()

        Button:
            text: "Cancel"
            on_release: root.dismiss()


<PopupBrowseServerFolder>
    title: "Browse server folder"
    auto_dismiss: False

    foldersView: foldersView

    BoxLayout:
        orientation: "vertical"

        FoldersView:
            id: foldersView

        Button:
            text: "Select"
            on_release: root.set_server_path()

        Button:
            text: "Cancel"
            on_release: root.dismiss()


<FoldersView>:
    viewclass: 'SelectableLabel'
    text_selected: ''
    name_selected: ''

    SelectableRecycleBoxLayout:
        id: culture_sub_view_layout
        orientation: 'vertical'
        default_size: None, dp(32)
        default_size_hint: .6, None
        size_hint: 1, .9
        multiselect: False
        touch_multiselect: False


<SelectableLabel>:
    canvas.before:
        Color:
            rgba: (.05, 0.5, .9, .8) if self.selected else (.5, .5, .5, 1)
        Rectangle:
            pos: self.pos
            size: self.size

